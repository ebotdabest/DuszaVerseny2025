<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:views="clr-namespace:DuszaVerseny2025.Pages"
             x:Class="DuszaVerseny2025.MainPage"
             BackgroundColor="#0f0f0f"
             x:Name="RootPage">

    <Grid RowSpacing="10"
          Padding="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <StackLayout Grid.Row="0"
                     HorizontalOptions="Center"
                     Spacing="0">
            <Label Text="DAMAREEN"
                   HorizontalOptions="Center"
                   FontAttributes="Bold"
                   FontSize="28"
                   FontFamily="RetroByte"
                   TextColor="White"/>
            <Label Text="✝"
                   HorizontalOptions="Center"
                   FontSize="22"
                   FontFamily="RetroByte"
                   TextColor="White"/>
        </StackLayout>

        <Grid Grid.Row="1"
              ColumnSpacing="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="10*"/>
                <ColumnDefinition Width="6*"/>
            </Grid.ColumnDefinitions>

            <Grid Grid.Column="0"
                  RowSpacing="8">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="140"/>
                </Grid.RowDefinitions>

                <Label Grid.Row="0"
                       Text="Gyujtemeny"
                       FontAttributes="Bold"
                       FontSize="16"
                       FontFamily="RetroByte"
                       TextColor="#FFD700"/>

                <Border Grid.Row="1"
                        Padding="6"
                        BackgroundColor="Transparent">
                    <CollectionView ItemsSource="{Binding AvailableCards}"
                                    VerticalOptions="FillAndExpand"
                                    SelectionMode="None">
                        <CollectionView.ItemsLayout>
                            <GridItemsLayout Orientation="Vertical"
                                             Span="7"
                                             VerticalItemSpacing="1"
                                             HorizontalItemSpacing="1"/>
                        </CollectionView.ItemsLayout>
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <views:CardView BindingContext="{Binding .}"
                                                HorizontalOptions="Fill"
                                                VerticalOptions="Fill"/>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                </Border>

                <Label Grid.Row="2"
                       x:Name="SelectionLabel"
                       Text="Selected: 0 / 2"
                       FontSize="20"
                       TextColor="#FFD700"
                       FontAttributes="Bold"
                       FontFamily="RetroByte"
                       HorizontalOptions="Center"
                       Margin="0,6,0,6"/>

                <Label Grid.Row="3"
                       Text="Pakli"
                       FontAttributes="Bold"
                       FontFamily="RetroByte"
                       FontSize="16"
                       TextColor="#FFD700"/>

                <Border Grid.Row="4"
                        BackgroundColor="#16213e"
                        Padding="8">
                    <CollectionView ItemsSource="{Binding SelectedCards}"
                                    ItemsLayout="HorizontalList"
                                    HorizontalOptions="FillAndExpand"
                                    HeightRequest="120"
                                    SelectionMode="None">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <views:CardView BindingContext="{Binding .}"/>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                </Border>
            </Grid>

            <VerticalStackLayout Grid.Column="1" Spacing="12" VerticalOptions="FillAndExpand" x:Name="DungeonContainer">
                
            </VerticalStackLayout>
        </Grid>
    </Grid>
</ContentPage>