<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="DuszaVerseny2025.GamePage"
                xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
                xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                xmlns:local="DuszaVerseny2025"
                BackgroundColor="White">

        <Grid RowDefinitions="Auto,*,Auto"
                        ColumnDefinitions="*,Auto">
                <Label Grid.Row="0"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Text="{Binding TopLabelText}"
                        FontSize="18"
                        FontFamily="RetroByte"
                        FontAttributes="Bold"
                        HorizontalOptions="Center"
                        Margin="0,20,0,10"/>

                <Border Grid.Row="1"
                        Grid.Column="0"
                        BackgroundColor="LightGray"
                        Stroke="Black"
                        StrokeThickness="2"
                        StrokeShape="RoundRectangle 50"
                        Margin="10">

                        <AbsoluteLayout>
                                <Label Text="Your Team:" FontSize="18" TextColor="Gold" />
                                <CollectionView ItemsSource="{Binding SelectedCards}"
                                                HeightRequest="120"
                                                ItemsLayout="HorizontalList">
                                        <CollectionView.ItemTemplate>
                                        <DataTemplate>
                                                <Border BackgroundColor="#2c3e50"
                                                        Stroke="Orange"
                                                        StrokeThickness="2"
                                                        Padding="6"
                                                        Margin="2">
                                                <Grid>
                                                        <BoxView Color="{Binding Template.ElementColor}" CornerRadius="8"/>
                                                        <Label Text="{Binding Template.Name}"
                                                        FontSize="14"
                                                        TextColor="White"
                                                        FontAttributes="Bold"
                                                        HorizontalOptions="Center"
                                                        VerticalOptions="Center"/>
                                                </Grid>
                                                </Border>
                                        </DataTemplate>
                                        </CollectionView.ItemTemplate>
                                </CollectionView>

                                <Border x:Name="Player1Frame"
                                        AbsoluteLayout.LayoutBounds="0.2,0.8,0.15,0.15"
                                        AbsoluteLayout.LayoutFlags="All"
                                        BackgroundColor="Gray"
                                        Padding="10">
                                        <Label Text="{Binding Player1Text}"
                                                FontSize="12"
                                                FontFamily="RetroByte"
                                                HorizontalOptions="Center"
                                                VerticalOptions="Center"/>
                                </Border>

                                <Border x:Name="Player2Frame"
                                        AbsoluteLayout.LayoutBounds="0.8,0.8,0.15,0.15"
                                        AbsoluteLayout.LayoutFlags="All"
                                        BackgroundColor="Gray"
                                        Padding="10">
                                        <Label Text="{Binding Player2Text}"
                                                FontSize="12"
                                                FontFamily="RetroByte"
                                                HorizontalOptions="Center"
                                                VerticalOptions="Center"/>
                                </Border>

                                <Border x:Name="KazamataFrame"
                                        AbsoluteLayout.LayoutBounds="0.8,0.2,0.15,0.15"
                                        AbsoluteLayout.LayoutFlags="All"
                                        BackgroundColor="Gray"
                                        Padding="10">
                                        <Label Text="{Binding KazamataText}"
                                                FontSize="12"
                                                FontFamily="RetroByte"
                                                HorizontalOptions="Center"
                                                VerticalOptions="Center"/>
                                </Border>

                        </AbsoluteLayout>
                </Border>

                <Border Grid.Row="1"
                        Grid.Column="1"
                        BackgroundColor="White"
                        Stroke="Black"
                        StrokeThickness="1"
                        Margin="10">
                        <VerticalStackLayout Margin="10">
                                <Label Text="Tortenesei â–¼"
                                        FontSize="16"
                                        FontFamily="RetroByte"
                                        FontAttributes="Bold"/>
                                <ScrollView>
                                        <CollectionView ItemsSource="{Binding HistoryItems}"
                                                        HeightRequest="300">
                                                <CollectionView.ItemTemplate>
                                                        <DataTemplate>
                                                                <Border BackgroundColor="WhiteSmoke"
                                                                        Padding="5"
                                                                        Margin="0,2">
                                                                        <Label Text="{Binding HistoryText}"
                                                                                FontSize="12"
                                                                                FontFamily="RetroByte"
                                                                                LineBreakMode="WordWrap"/>
                                                                </Border>
                                                        </DataTemplate>
                                                </CollectionView.ItemTemplate>
                                        </CollectionView>
                                </ScrollView>
                        </VerticalStackLayout>
                </Border>

                <Label Grid.Row="2"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Text="{Binding RoundText}"
                        FontSize="20"
                        FontAttributes="Bold"
                        HorizontalOptions="Center"
                        FontFamily="RetroByte"
                        Margin="0,10,0,20"/>
        </Grid>
</ContentPage>